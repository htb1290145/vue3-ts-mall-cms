{"version":3,"file":"js/483.c246de6b.js","mappings":"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","sources":["webpack://vue3-ts_cms-coderwhy/./src/views/main/system/role/role.vue?6f73","webpack://vue3-ts_cms-coderwhy/./src/views/main/system/role/config/search.config.ts","webpack://vue3-ts_cms-coderwhy/./src/views/main/system/role/config/table.config.ts","webpack://vue3-ts_cms-coderwhy/./src/views/main/system/role/config/dailog.config.ts","webpack://vue3-ts_cms-coderwhy/./src/views/main/system/role/role.vue?5e6c","webpack://vue3-ts_cms-coderwhy/./src/views/main/system/role/role.vue"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-be96165e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"role\" }\nconst _hoisted_2 = { class: \"search\" }\nconst _hoisted_3 = { class: \"content\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_page_search = _resolveComponent(\"page-search\")!\n  const _component_page_content = _resolveComponent(\"page-content\")!\n  const _component_el_tree = _resolveComponent(\"el-tree\")!\n  const _component_page_dialog = _resolveComponent(\"page-dialog\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_page_search, { searchFormConfig: _ctx.searchFormConfig }, null, 8, [\"searchFormConfig\"])\n    ]),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_component_page_content, {\n        tableConfig: _ctx.tableConfig,\n        pageName: \"role\",\n        headerHandleBtnName: \"新建角色\",\n        onNewBtnClick: _ctx.handleNewClick,\n        onEditBtnClick: _ctx.handleEditClick\n      }, null, 8, [\"tableConfig\", \"onNewBtnClick\", \"onEditBtnClick\"])\n    ]),\n    _createVNode(_component_page_dialog, {\n      ref: \"pageDialogRef\",\n      pageName: \"role\",\n      \"dailog-config\": _ctx.dialogConfig,\n      defaultInfo: _ctx.defaultInfo,\n      \"other-info\": _ctx.otherInfo\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_tree, {\n          ref: \"roleTreeRef\",\n          data: _ctx.menus,\n          \"node-key\": \"id\",\n          props: { children: 'children', label: 'name' },\n          \"highlight-current\": \"\",\n          \"show-checkbox\": \"\",\n          \"check-on-click-node\": \"\",\n          \"expand-on-click-node\": \"\",\n          onCheck: _ctx.handleCheckChange\n        }, null, 8, [\"data\", \"onCheck\"])\n      ]),\n      _: 1\n    }, 8, [\"dailog-config\", \"defaultInfo\", \"other-info\"])\n  ]))\n}","import { IForm } from '@/base-ui/form'\n\nexport const searchFormConfig: IForm = {\n  // 表单配置文件\n  formItems: [\n    {\n      // field 字段\n      field: 'id',\n      type: 'input',\n      label: 'id',\n      placeholder: '请输入id'\n    },\n    {\n      field: 'name',\n      type: 'input',\n      label: '用户名',\n      placeholder: '请输入用户名'\n    },\n    {\n      field: 'intro',\n      type: 'input',\n      label: '角色权限',\n      placeholder: '请输入角色权限'\n    },\n    {\n      field: 'createTime',\n      type: 'datepicker',\n      label: '创建时间',\n      // 特殊属性\n      otherOptions: {\n        startPlaceholder: '开始时间',\n        endPlaceholder: '结束事件',\n        type: 'daterange'\n      }\n    }\n  ],\n  labelWidth: '100px',\n  // 响应式占据的宽度\n  colLayout: {\n    xs: 24,\n    sm: 24,\n    md: 12,\n    lg: 8,\n    xl: 6\n  },\n  // 样式\n  itemStyle: {\n    padding: '5px 30px'\n  }\n}\n","export const tableConfig = {\n  title: '角色列表',\n  // 表格字段\n  propList: [\n    { prop: 'name', label: '角色名', minWidth: '40' },\n    { prop: 'intro', label: '权限介绍', minWidth: '40' },\n    {\n      prop: 'createAt',\n      label: '创建时间',\n      minWidth: '60',\n      slotName: 'createAt'\n    },\n    {\n      prop: 'updateAt',\n      label: '更新时间',\n      minWidth: '60',\n      slotName: 'updateAt'\n    },\n    { label: '操作', minWidth: '60', slotName: 'handle' }\n  ],\n  showSelectionColumn: true,\n  showIndexColumn: true\n}\n","import { IForm } from '@/base-ui/form'\n\nexport const dialogConfig: IForm = {\n  // 表单配置文件\n  formItems: [\n    {\n      field: 'name',\n      type: 'input',\n      label: '用户名',\n      placeholder: '请输入用户名'\n    },\n    {\n      field: 'intro',\n      type: 'input',\n      label: '角色介绍',\n      placeholder: '请输入角色介绍'\n    }\n  ],\n  // 响应式占据的宽度\n  colLayout: {\n    span: 24\n  },\n  // 样式\n  itemStyle: {}\n}\n","\nimport { defineComponent, computed, ref, nextTick } from 'vue'\nimport { useStore } from 'vuex'\nimport { ElTree } from 'element-plus'\n// 公共表单组件\n// 搜索表单配置文件\nimport PageSearch from '@/components/page-search'\nimport PageContent from '@/components/page-content'\nimport PageDialog from '@/components/page-dialog'\n\nimport { searchFormConfig } from './config/search.config'\nimport { tableConfig } from './config/table.config'\nimport { dialogConfig } from './config/dailog.config'\n// hooks\nimport { usePageDialog } from '@/hooks/use-page-dailog'\n// utils\nimport { mapMenusToLeafKeys } from '@/utils/map-menus'\n\nexport default defineComponent({\n  name: 'role',\n  components: { PageSearch, PageContent, PageDialog },\n  setup() {\n    // el-tree\n    // data\n    const store = useStore()\n    const menus = computed(() => store.state.entireMenu)\n    // el-tree选中事件 -> 传递数据给dailog发送网络请求\n    const otherInfo = ref({})\n    const handleCheckChange = (item: any, checkedObject: any) => {\n      const checkedKeys = checkedObject.checkedKeys\n      const halfCheckedKeys = checkedObject.halfCheckedKeys\n      const menuList = [...checkedKeys, ...halfCheckedKeys]\n      otherInfo.value = { menuList }\n    }\n    // 节点回显\n    const roleTreeRef = ref<InstanceType<typeof ElTree>>()\n    const editCallBack = (item: any) => {\n      const leafKeys = mapMenusToLeafKeys(item.menuList)\n      // nextTick 确保ref获取8\n      nextTick(() => {\n        roleTreeRef.value?.setCheckedKeys(leafKeys, false)\n      })\n    }\n\n    // PageDialog\n    const [pageDialogRef, defaultInfo, handleNewClick, handleEditClick] =\n      usePageDialog(undefined, editCallBack)\n    return {\n      searchFormConfig,\n      tableConfig,\n      dialogConfig,\n      pageDialogRef,\n      roleTreeRef,\n      defaultInfo,\n      otherInfo,\n      handleNewClick,\n      handleEditClick,\n      menus,\n      handleCheckChange\n    }\n  }\n})\n","import { render } from \"./role.vue?vue&type=template&id=be96165e&scoped=true&ts=true\"\nimport script from \"./role.vue?vue&type=script&lang=ts\"\nexport * from \"./role.vue?vue&type=script&lang=ts\"\n\nimport \"./role.vue?vue&type=style&index=0&id=be96165e&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\Web\\\\4-Vue\\\\vue3-ts_cms-coderwhy\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-be96165e\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","render","_ctx","_cache","$props","$setup","$data","$options","_component_page_search","_resolveComponent","_component_page_content","_component_el_tree","_component_page_dialog","_openBlock","_createElementBlock","_createElementVNode","_createVNode","searchFormConfig","tableConfig","pageName","headerHandleBtnName","onNewBtnClick","handleNewClick","onEditBtnClick","handleEditClick","ref","dialogConfig","defaultInfo","otherInfo","default","_withCtx","data","menus","props","children","label","onCheck","handleCheckChange","_","formItems","field","type","placeholder","otherOptions","startPlaceholder","endPlaceholder","labelWidth","colLayout","xs","sm","md","lg","xl","itemStyle","padding","title","propList","prop","minWidth","slotName","showSelectionColumn","showIndexColumn","span","defineComponent","name","components","PageSearch","PageContent","PageDialog","setup","store","useStore","computed","state","entireMenu","item","checkedObject","checkedKeys","halfCheckedKeys","menuList","value","roleTreeRef","editCallBack","leafKeys","mapMenusToLeafKeys","nextTick","setCheckedKeys","pageDialogRef","usePageDialog","undefined","__exports__"],"sourceRoot":""}